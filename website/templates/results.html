{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- Link to the CSS file -->
<link rel="stylesheet" type="text/css" href="{% static 'css/results.css' %}">

<h1>Predicted Label: {{predicted_label}}</h1>

<!-- images -->
<div style="position: relative; width: 500px; height: 500px;">
    <img src="{{cropped_img_path}}" id="original_image" alt="Original Image">
    <img src="{{retina_gradcam_img_path}}" id="shap_image" alt="GradCAM Image">
    <canvas id="canvas"></canvas>
</div>

<!-- legend -->
<div class="legend"></div>
<p class="legend-labels">
    {% for value in legend_values %}
    <span>{{ value }}</span>
    {% endfor %}
</p>

<!-- transparency slider -->
<div class="transparency-slider">
    <label for="transparency">Transparency of SHAP img: </label>
    <input type="range" id="transparency" name="transparency" min="0" max="1" step="0.1" value="1">
</div>
<div class="size-slider">
    <label for="blockSize">Block size: </label>
    <input type="range" id="blockSize" name="blockSize" min="1" max="100" step="1" value="10">
</div>
<!-- <img src="{{retina_img_path}}" alt="Original Image" width="500" height="500" id="original_image">
<img src="{{retina_gradcam_img_path}}" alt="GradCAM Image" width="500" height="500" id="shap_image">
<canvas id="canvas" width="500" height="500" style="border:1px solid #000000;"></canvas> -->

<!-- color radio buttons -->
<div class="color-radio">
    <div>Color: </div>
    <label>
        <input type="radio" name="colorRadio" value="#218AE5" checked hidden/>
        <span style="background: #218AE5;"></span>
    </label>
    <label>
        <input type="radio" name="colorRadio" value="#ACD3F5" hidden/>
        <span style="background: #ACD3F5;"></span>
    </label>
    <label>
        <input type="radio" name="colorRadio" value="white" hidden/>
        <span style="background: white;"></span>
    </label>
    <label>
        <input type="radio" name="colorRadio" value="#FFA5C0" hidden/>
        <span style="background: #FFA5C0;"></span>
    </label>
    <label>
        <input type="radio" name="colorRadio" value="#FF1D62" hidden/>
        <span style="background: #FF1D62;"></span>
    </label>
</div>

<button id="getCanvasImage">Get Canvas Image</button>

<form action="correct_prediction" method=POST>
    {% csrf_token %}
    {{correct_label_form}}
    <input type="submit" value="Submit">
</form>

<script src="{% static 'js/jQuery_3.7.1.js' %}"></script>
<script src="{% static 'js/draw.js' %}"></script>
{% endblock %}